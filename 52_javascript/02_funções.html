<!doctype html>
<html lang="pt-br">
    <head>
        <title>Estrutura Básica</title>
        <meta charset="utf-8">
        <meta name="author" content="João"> 
        <meta name="description" content="Curso Web Design">
        <meta name="keywords" content="html5, css3, javascript">
        <meta name="viewport" content="width=device-width">
    </head>
    <body>
        <h1>Javascript</h1>
<!--    1. funções: 
        1.1. literais; 
        1.2. de primeira classe;
        1.2.1. JS por ser uma linguagem funcional é possível tratar função como qualquer objeto; 
        1.3. podem ser passadas por parâmetros; 
        1.4. no ES5, são as únicas que criam escopos; 
        1.5. podem ser auto-executáveis (IFEE); 
        1.6. possuem uma propriedade que mostra os argumentos passados por parâmetro -->

        <script>
            // 1.1. literais: 
            function somar(n1, n2){ // dar nome para função é opcional | *criando uma função* = function nomeOpcional (){} | tudo que estiver dentro de "()" é os parâmetros/argumentos da função & tudo que estiver dentro de "{}" é o corpo da função 
                return n1 + n2;
            }

            var soma = somar(10, 20) ;
            console.log('Resultado: ', soma); // para passar mais de um valor em "console.log" é necessário utilizar a ","

            // 1.2. de primeira classe:
            somar.teste = 'propriedade da função'; // = atribuiu uma propriedade ("teste") dentro da função "somar", que por sua vez atribui um valor ('propriedade da função')

            console.log(somar.teste);

            // uma função sem nome, também é chamada como função anônima, segue abaixo um exemplo:
            var teste = function(msg){
                console.log('função anônima, ', msg);
            }; // quando uma função está vinculada com uma variável, é preciso encerrar a sintaxe com ";"

            teste('mensagem passada através de parâmetro'); // = a variável "teste" está vinculado a uma função, então é possível usá-la como função 

            // 1.3. podem ser passadas por parâmetros
            var parametro = function(f){
                f();
            };

            parametro(function(){
                console.log('função passada por paramêtro');
            }); // = executa uma função chamada "parametro" e através de paramêtro está passando uma outra função "console.log('função passada por paramêtro');"

            console.log('===== ===== ===== =====')

            // 1.4. no ES5, são as únicas que criam escopos:
            var x = 0;
            var z; // variável sem valor = underfined

            function mostraX(){
                var x = 10; // quando criamos uma variável dentro do corpo uma função, ela se torna um ESCOPO LOCAL, evitando conflitos com variáveis que estiverem fora do corpo da função 
                y = 20; // o ESCOPO GLOBAL é quando criamos uma variável sem o "var" | NÃO É RECOMENDADO O USO 
                var z = 30;
                console.log('mostra x dentro: ', x);
                console.log('mostra y dentro: ', y);
                console.log('mostra z dentro: ', z);
            } 
            mostraX()

            console.log('mostra x fora: ', x);
            console.log('mostra y fora: ', y);
            console.log('mostra z fora: ', z);

            // é RECOMENDADO o uso de ESCOPO LOCAL, ou seja, sempre escrever o código dentro de uma função: 
//              function init(){
                    // corpo da função
//              }
//              init();  = executa a função "init"

            // 1.5. podem ser auto-executáveis (IIFE);
            (function(){ // seguindo a recomendação acima, porém para evitar conflito de nome de função, utilizamos o método de função IIFE
                'use strict'; // = bloqueia todo dia de ESCOPO GLOBAL e só permite criar variável de ESCOPO LOCAL (var)
                var isValid = false;
                console.log(isValid);

                //1.6. possuem uma propriedade que mostra os argumentos passados por parâmetro
                function somar(){
                    console.log(arguments); // propriedade "arguments" usada dentro da função representa todos os valores passados por paramêtros
                    var result = 0;
                    var x = 0;

                    while(arguments[x]){
                        // result = result + arguments[x];
                        result += arguments[x];
                        // x = x + 1;
                        x++;
                    }
                    console.log('result: ', result);
                }
                somar(10, 20, 30, 40, 50);
            })();
        </script>
    </body>
</html>